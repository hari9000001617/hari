<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> Function Calls </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Online Help for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "1657.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "1651.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
<script language="javascript" type="text/javascript" src="dhtml_popup.js"></script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('1633');expand('4501');highlight('5748')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="1657.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="1651.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">Function Calls</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'Function Calls' (5748)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="bodytext"><a id="h5749" class="popup" title="Example" href="javascript:void(0)" onclick="togglePopup('5749','h5749')" target="_self">Example</a></p>
<div id="d5749" class="clickpopup" style="display:none"><a href="javascript:hidePopup('5749')"><img src="close.gif" align="right" alt="Close" border="0"></a><pre class="unixoutputp">var result#;</pre>
<pre class="unixoutputp">result# := ChargeExpression1#(ceil(Duration#), </pre>
<pre class="unixoutputp">15.00, 2.15);</pre>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">In this example <span class="unixoutputc">Duration#</span> is a direct variable based on the <span class="unixoutputc">NORMALISED_EVENT_V</span> view.  The application environment for this call must therefore be Rating, and the context must be Normalised Event.  The call to the <span class="unixoutputc">ceil()</span> EPM built-in function is required because the function is defined with the <span class="unixoutputc">Period&amp;</span> parameter of type Integer.</p></td></tr></table>
</div><p class="bodytext">A function call requires the statement of the function name, followed by any parameters in brackets.  The name and data type of the function must be compatible with those in the function definition, and the data types of any parameters passed must be compatible with those of the formal parameters in the function definition.</p>
<p class="bodytext">The number of parameters passed must match the number of parameters defined for the function.  For each corresponding parameter:</p>
<ul class="listbullet"><li class="listbullet">If the parameter is defined to be passed-by-reference (<span class="unixoutputc">var</span> prefix), the passed parameter must be a variable or non-constant function parameter of the same data type as the defined parameter.</li><li class="listbullet">If the parameter is defined to be passed-by-value (no prefix) or a constant (<span class="unixoutputc">const</span> prefix), the following applies:<ol class="listnumber2"><li class="listnumber2">The passed parameter must be an expression returning the same data type as the defined parameter.</li><li class="listnumber2">If the defined parameter is defined to be of a real data type, the passed parameter can be an expression returning an integer value.</li><li class="listnumber2">If the defined parameter is defined to be of type unknown (<span class="unixoutputc">?</span> suffix), the passed parameter must be an expression returning any scalar type.</li><li class="listnumber2">If the defined parameter is defined to be of type unknown array (<span class="unixoutputc">?[]</span> suffix), the passed parameter must be an expression returning any array type.</li><li class="listnumber2">If the defined parameter is defined to be of type unknown hash (<span class="unixoutputc">?{}</span> suffix), the passed parameter must be an expression returning any hash type.</li></ol></li></ul><table class="cautionstyle" width="100%"><tr><td><p class="caution">Caution:</p><p class="caution">Calling functions in a way that violates these guidelines is not supported.  Using parameters incorrectly can result in arbitrary or undefined behaviour; for example, the program may stop, exit, or produce unexpected or meaningless results.</p></td></tr></table>
<p class="bodytext">To ensure that parameters behave correctly:</p>
<ul class="listbullet"><li class="listbullet">Pass parameters by reference, value, and constant as follows:<ul class="listdashbullet2"><li class="listdashbullet2">pass-by-reference parameters (<span class="unixoutputc">var</span> prefix) when the function modifies the parameter and the modified value is required by the function caller.  </li><li class="listdashbullet2">Pass-by-value (no parameter prefix) when the function modifies the value but the modified value is not required by the function caller.</li><li class="listdashbullet2">Pass-by-constant (<span class="unixoutputc">const</span> prefix) when the function does not modify the parameter value.</li></ul></li><li class="listbullet">Do not pass a hash or array by reference, and elements from the hash or array by reference or constant into the same function call.<p class="listcontinue">For example, the <span class="unixoutputc">FuncUpdate&amp;(var Details?{}, var ServiceName$, var FunctName$) </span>function called as follows could result in arbitrary or undefined behaviour:</p>
<p class="listcontinue"><span class="unixoutputc">{</span></p>
<p class="listcontinue"><span class="unixoutputc">    var lData?{};</span></p>
<p class="listcontinue"><span class="unixoutputc">    .</span></p>
<p class="listcontinue"><span class="unixoutputc">    .</span></p>
<p class="listcontinue"><span class="unixoutputc">    .</span></p>
<p class="listcontinue"><span class="unixoutputc">    FuncUpdate&amp;(lData?{}, lData${'SERVICE'}, lData${'FUNCTION'})</span></p>
<p class="listcontinue"><span class="unixoutputc">}</span></p>
</li><li class="listbullet">If a variable is set to an element of an array or hash using the equivalence operator (<span class="unixoutputc">::=</span>), the array or hash values must not be cleared, undefined, or reassigned while the variable is still in scope.  For example:<p class="listcontinue"><span class="unixoutputc">var x?[] := ['Text', 'Goobaa', ['a', 'b', 'c'], 10];</span></p>
<p class="listcontinue"><span class="unixoutputc">var a?{} := ['a', 1, 'b', 2, 'c', 3, 'rows', 4];</span></p>
<p class="listcontinue"><span class="unixoutputc">a?{'rows'}[] := x?[];</span></p>
<p class="listcontinue"><span class="unixoutputc">var b?[] ::= a?{'rows'}[2][];</span></p>
<p class="listcontinue"><span class="unixoutputc">undefine(a?{'rows'});  # Array referenced by b?[] has been freed.</span></p>
<p class="listcontinue"><span class="unixoutputc"># The following assignment causes a runtime error or undefined behaviour:</span></p>
<p class="listcontinue"><span class="unixoutputc">b?[2] := 's';</span></p>
</li></ul>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="1657.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="1651.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


