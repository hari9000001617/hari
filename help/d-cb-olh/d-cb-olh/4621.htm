<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> Java TRE Server </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Online Help for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "4511.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "4519.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('4501');highlight('4621')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="4511.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="4519.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h2 class="heading2">Java TRE Server</h2>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'Java TRE Server' (4621)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="bodytext">The Java TRE Server enables the generation of notifications and outgoing calls to other third party systems and software, and is built using the classes in the <a id="h4622" class="jump" title="Java Bridge" href="4623.htm" target="_self">Java Bridge</a>.  The Java Server can be connected to the Remote Service server, which uses a TCP connection to communicate.</p>
<p class="bodytext">To create and start a Java server:</p>
<ol class="listnumber"><li class="listnumber">Create a new <span class="unixoutputc">HandlerFactory</span> whose only parameter is the class whose functions are to be used.<p class="listcontinue">The (<span class="unixoutputc">useInteger</span> <span class="unixoutputc">TRUE </span>| <span class="unixoutputc">FALSE</span>) parameter may also be passed to the constructor.  When true, <span class="unixoutputc">useInteger</span> causes the Java bridge to use <span class="unixoutputc">int</span>, <span class="unixoutputc">Integer</span>, and<span class="unixoutputc"> TreVarInteger</span> types for EPM integers.  When false, or not specified, <span class="unixoutputc">useInteger</span> causes the Java bridge to use <span class="unixoutputc">long</span>, <span class="unixoutputc">Long</span>, and <span class="unixoutputc">TreVarLong</span> types for EPM integers.</p>
<p class="listcontinue">Example: <span class="unixoutputc">HandlerFactory factory = new ReflectHandlerFactory(functionClass.class);</span></p>
</li><li class="listnumber">Create a new Listener.<p class="listcontinue">Example: <span class="unixoutputc">Listener listener = new Listener(port, factory, block);</span></p>
</li></ol><p class="bodytext">To create a new function:</p>
<ol class="listnumber"><li class="listnumber"><a id="h39103" class="jump" title="Define a Function" href="4299.htm#o2846" target="_self">Create the EPM function</a>.  <p class="listcontinue">The function must be defined under the <span class="fieldname">Function Definition</span> tab; however, the definition's body is not used when the function is invoked.  The definition must include appropriate parameter declarations and the return type that will be used by the replacement Java function.  The function body must return a dummy value of the appropriate type.</p>
</li><li class="listnumber">Select the following:<ul class="listbullet2"><li class="listbullet2"><span class="fieldname">Use Remote Function Call?</span> check box.</li><li class="listbullet2">Asynchronous, Queued, or Synchronous in the <span class="fieldname">Call Type</span> field.</li><li class="listbullet2"><span class="unixoutputc">biRService</span> in the <span class="fieldname">Service Name</span> field.</li><li class="listbullet2"><span class="fieldname">Execute as separate transaction?</span> check box.</li></ul></li><li class="listnumber">Create the Java function, and ensure that it exists as a method in the class that was passed as a parameter when creating a new Java server.  The method must have the same name and case as the EPM function and must be declared 'public static'.</li></ol><p class="bodytext">EPM parameters do not map directly to Java parameters.  The Java parameters occur in the same order, but have different types.  The mapping also depends on whether parameters are available; this is indicated by the <span class="unixoutputc">var</span> keyword before the parameter name.  The return type is mapped as a non-variable parameter.</p>
<p class="bodytext">EPM functions, whose parameters are of type Unknown, must have appropriate overloaded Java functions for all basic types (Blob, Date, Integer, Real, and String).  If the EPM function has several parameters of type Unknown, then Java functions for all permutations of the five basic types for those parameters of type Unknown must be written.</p>
<p class="bodytext">The Java TRE server uses EPM to Java Type Mapping.</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="4511.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="4519.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


