<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> Tariffs </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Online Help for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "3872.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "4589.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
<script language="javascript" type="text/javascript" src="dhtml_popup.js"></script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('4501');highlight('1602')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="3872.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="4589.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h2 class="heading2">Tariffs</h2>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'Tariffs' (1602)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="bodytext">Tariffs specify the charges and benefits to be applied to events, and the rules for applying them, to calculate cost information.  Because tariffs can result in both positive and negative values being billed to a customer, the following terms are used to differentiate between the different types of tariffs:</p>
<ul class="listbullet"><li class="listbullet"><a id="h1603" class="popup" title="Usage Tariff" href="javascript:void(0)" onclick="togglePopup('1603','h1603')" target="_self">Usage tariff</a><div id="d1603" class="clickpopup" style="display:none"><a href="javascript:hidePopup('1603')"><img src="close.gif" align="right" alt="Close" border="0"></a><p class="bodytext">Calculates the charges owed by a customer for use of services, equipment, and facilities.</p>
<p class="bodytext">Context:  Convergent Billing</p>
<p class="bodytext">See also <a id="h1239" class="glossaryitemjump" title="Equipment" href="14834.htm#o527" target="_self">Equipment</a>, Facility, <a id="h1238" class="glossaryitemjump" title="Service" href="14848.htm#o876" target="_self">Service</a>, and <a id="h1121" class="glossaryitemjump" title="Tariff" href="14849.htm#o925" target="_self">Tariff</a>.</p>
</div></li><li class="listbullet"><a id="h1604" class="popup" title="Discount Tariff" href="javascript:void(0)" onclick="togglePopup('1604','h1604')" target="_self">Discount tariff</a><div id="d1604" class="clickpopup" style="display:none"><a href="javascript:hidePopup('1604')"><img src="close.gif" align="right" alt="Close" border="0"></a><p class="bodytext">Tariff that reduces the amount owed by a customer.  Discount tariffs are usually aimed at fostering customer loyalty.</p>
<p class="bodytext">Context:  Convergent Billing</p>
<p class="bodytext">See also <a id="h1121_2" class="glossaryitemjump" title="Tariff" href="14849.htm#o925" target="_self">Tariff</a>.</p>
</div></li><li class="listbullet"><a id="h1606" class="popup" title="Tax Tariff" href="javascript:void(0)" onclick="togglePopup('1606','h1606')" target="_self">Tax tariff</a> <div id="d1606" class="clickpopup" style="display:none"><a href="javascript:hidePopup('1606')"><img src="close.gif" align="right" alt="Close" border="0"></a><p class="bodytext">Tariff that calculates the amount of tax to be paid to the Taxation Department.</p>
<p class="bodytext">Context:  Convergent Billing</p>
<p class="bodytext">See also <a id="h1121_3" class="glossaryitemjump" title="Tariff" href="14849.htm#o925" target="_self">Tariff</a>.</p>
</div></li><li class="listbullet"><a id="h1040" class="glossaryitemjump" title="Recurring Tariff" href="14847.htm#o817" target="_self">Recurring tariff</a></li><li class="listbullet"><a id="h1607" class="popup" title="Comparative Tariff" href="javascript:void(0)" onclick="togglePopup('1607','h1607')" target="_self">Comparative tariff</a>.<div id="d1607" class="clickpopup" style="display:none"><a href="javascript:hidePopup('1607')"><img src="close.gif" align="right" alt="Close" border="0"></a><p class="bodytext">Tariff that calculates the amount that a customer would have been charged if they used an alternative rating program such as a special volume usage program or a competitor's product.</p>
<p class="bodytext">Context:  Convergent Billing</p>
<p class="bodytext">See also <a id="h1121_4" class="glossaryitemjump" title="Tariff" href="14849.htm#o925" target="_self">Tariff</a>.</p>
</div></li></ul><table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">Tariffs can also be used with entitlements to consume allocations in real time.  Real-time tariffs can be used to generate activation, cancellation, or recurring charges (see the <span class="referrals">Customer Care and Product Configuration Guide for Singleview Convergent Billing</span>).</p></td></tr></table>
<p class="bodytext">A tariff is a variable, the value of which is defined by a charge expression.  Like other<a id="h1608" class="jump" title="Expressions" href="1609.htm" target="_self"> expressions</a> defined in Convergent Billing, the charge expression consists of operators and variables (known as charge values) that, when evaluated, returns a single value.</p>
<p class="bodytext">Usually the relevant charge values for inclusion in the charge expression are obtained from a table of values, known as a tariff table.  The tariff table associates each set of charge values with a set of conditions (also contained in the tariff table).  The conditional expressions defined for each condition determine which set of charge values are to be used in the charge expression.</p>
<p class="bodytext">To calculate a specific tariff, a set of input values from an event record is compared to each set of conditions defined in the tariff table.  When the first set of conditions is reached that matches the set of input values, the charge values associated with that set of conditions are substituted into the charge expression.  The expression is then evaluated and a value for the tariff returned.</p>
<p class="bodytext">Every condition in a set of conditions must be satisfied by the input values for a match to be found.  If no match is found, a default charge expression is used to return a value for the tariff.</p>
<p class="bodytext">To restrict the number of tariffs applied to an event, the 'pool' of available tariffs must be reduced by selectively reducing the number of tariffs applicable to that event.  For example, when the rating engine is used to rate a normalised event, the rating engine selects from the full list of valid tariffs:</p>
<ul class="listbullet"><li class="listbullet">All global tariffs (those in which the <span class="fieldname">Global Event?</span> check box is selected) and any tariffs where the application environment is set to Rating and the context is set to Normalised Event.</li><li class="listbullet">Product-specific tariffs (defined during product definition and selected when the product instance is created for a customer).  Product specific tariffs form the set of tariffs associated with each service defined in the product and are therefore the only set of tariffs that can be applied to this customer using this service.</li><li class="listbullet">Tariffs with the highest <a id="h1631" class="popup" title="Priority" href="javascript:void(0)" onclick="togglePopup('1631','h1631')" target="_self">priority</a> that have the same type, application environment, and context.<div id="d1631" class="clickpopup" style="display:none"><a href="javascript:hidePopup('1631')"><img src="close.gif" align="right" alt="Close" border="0"></a><p class="bodytext">Context:  Convergent Billing</p>
<p class="bodytext">Attribute of a tariff that determines which tariff is applied in a product definition.  A tariff with a higher priority (lower numerical value) overrides a tariff with a lower priority (higher numerical value) only if they have the same type, application environment, and context.  A tariff with no priority cannot be overridden.</p>
<p class="bodytext">Context:  Process Engine</p>
<p class="bodytext">Used for cases and actions to be assigned a priority.</p>
<p class="bodytext">See also <a id="h1121_5" class="glossaryitemjump" title="Tariff" href="14849.htm#o925" target="_self">Tariff</a> and <a id="h1214" class="glossaryitemjump" title="Product Definition" href="14845.htm#o60123" target="_self">Product Definition</a>.</p>
</div></li><li class="listbullet">Tariffs whose eligibility criteria validate them for the event.</li></ul><table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">An invalid tariff is one that has a non-scalar data type and all its key expressions evaluate to undefined values.</p></td></tr></table>
<p class="bodytext">All remaining tariffs are applied to the specified event.</p>
<p class="bodytext">Tariffs are used in both the rating and billing engines.  A specific tariff, however, can only be used in one or the other, depending on which application environment is specified in its definition.  Typically, usage and recurring tariffs are used in the rating engine, and discount, recurring, and tax tariffs are used in the billing engine:</p>
<ul class="listbullet"><li class="listbullet">In the rating engine, a tariff is applied to a normalised event record to generate a charge record.  In fact, multiple tariffs can be applied to the normalised event record, thereby generating multiple charge records from a single normalised event.  For example, both a usage tariff and a comparative tariff can be applied to a normalised event record to calculate the standard cost of that event, and the cost if the comparative rating plan is used.</li><li class="listbullet">In the billing engine, tariffs can be applied to charge records to generate billed data records.  For example, charge records for a customer can be aggregated to calculate the total amount owed by that customer for a specific service for the current billing period.  A discount tariff can then be applied to the total amount owed.  As in the rating engine, multiple tariffs can be applied to a single charge record in the billing engine.  A tax tariff can be applied to the total amount owed by a customer in addition to the discount tariff.  The billing engine can also apply multiple tariffs to aggregated charge records.<p class="listcontinue">Tariffs generated at billing time (Billing application environment) should only be accessed by referencing the tariff as a variable (that is, by name).  Access to billing tariffs (or subtotals) using the following methods is not reliable and should not be used:</p>
<ul class="listdashbullet2"><li class="listdashbullet2"><span class="unixoutputc">ChgInputBilledCharge#</span></li><li class="listdashbullet2">SQL during the BGP operation to try and access <span class="unixoutputc">CHARGE</span> records generated by billing tariffs. </li></ul><p class="listcontinue">These two techniques only work if the internal processing order employed by the BGP is correct.  Because this order is not controlled by the configurer, it is impossible to ensure reliability of access using either method.  For more information about how context is processed, refer to the <span class="referrals"><a id="h13666" class="jump" title="Configuration Fundamentals Guide for Singleview Convergent Billing" href="5533.htm" target="_self">Configuration Fundamentals Guide for Singleview Convergent Billing</a></span>.</p>
</li></ul><p class="bodytext">Usually the cost information generated by a tariff is included on an invoice or a statement, but can be excluded if it is not required.  For example, a tariff can be specified as non-billable, in which case the tariff values are ignored when invoice data record values are passed to the invoice generation program.  Alternatively, a tariff that returns a zero value can either be recorded in the CHARGE table so that it can be included in any subtotals, or handled as a rating or billing error.</p>
<p class="bodytext">Keyed tariffs allow tariffs to be grouped so that multiple values can be applied to a single event.  In this way, a single tariff can replace a number of individual tariffs of the same type or generate multiple charges.  Keyed tariffs have a data type of Real Array or Real Hash and return an array of tariff values or a hash of tariff values, respectively.</p>
<p class="bodytext">To appreciate the power and flexibility of tariffs in Convergent Billing, it is first necessary to have an understanding of the generic components of tariffs including:</p>
<ul class="listbullet"><li class="listbullet"><a id="h1685" class="jump" title="Derived Attributes" href="1686.htm" target="_self">Derived Attributes</a></li><li class="listbullet"><a id="h1697" class="jump" title="Direct Variables" href="1698.htm" target="_self">Direct Variables</a></li><li class="listbullet"><a id="h1632" class="jump" title="Functions" href="1633.htm" target="_self">Functions</a></li><li class="listbullet"><a id="h1709" class="jump" title="Local Constants" href="1710.htm" target="_self">Local Constants</a></li><li class="listbullet"><a id="h1699" class="jump" title="Subtotals" href="1700.htm" target="_self">Subtotals</a></li></ul><p class="bodytext">Tariffs are specified in a two stage process:</p>
<ol class="listnumber"><li class="listnumber">Tariff definition, in which the basic properties of the tariff are entered, the structure of the tariff table is defined, and the charge expression for the tariff is entered.</li><li class="listnumber">Tariff table definition, in which values for the conditions and charges are entered into the tariff table.</li></ol><table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">The tariff name must be unique for the date range of the tariff when compared to all other variables (for example, functions, derived attributes, subtotals, tariffs, and direct variables).  The rules for naming are:</p><ul class="notelistbullet"><li class="notelistbullet">For a scalar data type, the name and data type combination must be unique when compared to other variables.</li><li class="notelistbullet">For a hash type, the name must be unique when compared to other hash type variables.</li><li class="notelistbullet">For an array type, the name must be unique when compared to other array type variables.</li></td></tr></table></ul><p class="bodytext">For more information on tariffs, refer to the <span class="referrals"><a id="h13673" class="jump" title="Customer Care and Product Configuration Guide for Singleview Convergent Billing" href="5535.htm" target="_self">Customer Care and Product Configuration Guide for Singleview Convergent Billing</a></span>.</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="3872.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="4589.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


