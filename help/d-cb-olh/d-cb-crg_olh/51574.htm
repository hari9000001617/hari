<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> PaymentInvoiceUpdate&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "13472.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "13476.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('51574')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="13472.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="13476.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">PaymentInvoiceUpdate&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'PaymentInvoiceUpdate&amp;()' (51574)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<pre class="unixinputp">PaymentInvoiceUpdate&amp;(    PaymentId&amp;,    var&nbsp;LastModified~,    const Opcode&amp;[],    const AccountId&amp;[],    const Seqnr&amp;[],    const FieldNames$[],    const FieldValues?[])</pre>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">Maintains the <span class="unixoutputc">PAYMENT_INVOICE</span> table for accounts associated with the specified payment.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="294" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Method</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Local</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="133"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="563"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">PaymentId&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  ID of the payment to be updated.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">LastModified~</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  Last modified date-time of the payment to be updated.</p>
<p class="tablebodytext">Out:  Last modified date-time of the updated payment.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">Opcode&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">Operations to perform on the row.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">AccountId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  Internal ID of the accounts associated with the payment.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">Seqnr&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  Sequence number for the combination of the adjustment and the account.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">FieldNames$[]</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  Set of fields from <span class="unixoutputc">PAYMENT_INVOICE_TRE_V</span> view being inserted or updated.</p>
<p class="tablebodytext">The same fields must be specified for all rows.</p>
<p class="tablebodytext">There is a direct mapping between this array and the <span class="unixoutputc">FieldValues?[]</span> array.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="133"><p class="tablebodytext"><span class="unixoutputc">FieldValues?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="563"><p class="tablebodytext">In:  Two-dimensional array of field values in [Row][Field] order being inserted, updated, or deleted.</p>
<p class="tablebodytext">An empty row can be specified for records that are being deleted and have NULL <span class="unixoutputc">INVOICE_ID</span> and <span class="unixoutputc">ALLOCATED_ADJUSTMENT_ID</span>.</p>
<p class="tablebodytext"><span class="unixoutputc">INVOICE_ID</span> and <span class="unixoutputc">INVOICE_LAST_MODIFIED</span> fields must be included in <span class="unixoutputc">FieldNames$[]</span> and <span class="unixoutputc">FieldValues?[]</span>.</p>
<p class="tablebodytext">It corresponds to the fields listed in <span class="unixoutputc">FieldNames$[]</span>.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">Number of rows successfully processed (should equal <span class="unixoutputc">Opcode&amp;[]</span>); otherwise, an error is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">The results of changes to the payment invoice records must ensure that the sum of the payment invoice amounts for the:</p>
<ul class="listbullet"><li class="listbullet">To account equals the <span class="unixoutputc">TO_TOTAL_AMOUNT</span> for the payment.</li><li class="listbullet">From account equals the <span class="unixoutputc">FROM_TOTAL_AMOUNT</span> for the payment.</li></ul><p class="bodytext">If the payment was applied:</p>
<ul class="listbullet"><li class="listbullet">Net changes to receivable type allocations are reflected by new charges, with the account history updated to indicate changes have occurred to the payment, but have not been uploaded to the General Ledger.</li><li class="listbullet">If the GL subsystem is enabled, the net changes to allocations are reflected by new GL guidance records.</li></ul><p class="bodytext">If an allocation is associated with:</p>
<ul class="listbullet"><li class="listbullet">An invoice, <span class="unixoutputc">CURRENT_DUE</span> for the invoice is updated to reflect the allocation.</li><li class="listbullet">A receivable type, <span class="unixoutputc">CURRENT_DUE</span> for the invoice receivable type is updated to reflect the allocation. </li></ul><p class="bodytext">If the allocation is to a liability account and account handling functionality is:</p>
<ul class="listbullet"><li class="listbullet">Not enabled, <span class="unixoutputc">CURRENT_DUE</span> and <span class="unixoutputc">INVOICE_HISTORY</span> are increased by the amount of the allocation.  </li><li class="listbullet">Enabled, <span class="unixoutputc">CURRENT_DUE</span> and <span class="unixoutputc">INVOICE_HISTORY</span> are decreased by the amount of the allocation.</li></ul><p class="bodytext">A last modified check and date ranged update is automatically performed on the <span class="unixoutputc">PAYMENT</span> record associated with this change, with the updated <span class="unixoutputc">PAYMENT</span> last modified date-time being returned in <span class="unixoutputc">LastModified~</span>.</p>
<p class="bodytext">The update operations that can be performed are 1 (Insert), 2 (Update), and 3 (Delete), and are represented by the value placed in the <span class="unixoutputc">Opcode&amp;[]</span> array.  If multiple updates are to be performed on this payment, the number of parameters in&nbsp;the <span class="unixoutputc">Opcode&amp;[]</span> array must equal the number of parameters in the <span class="unixoutputc">AccountId&amp;[]</span>, <span class="unixoutputc">Seqnr&amp;[]</span>, <span class="unixoutputc">FieldNames$[]</span>, and <span class="unixoutputc">FieldValues?[]</span> arrays.</p>
<p class="bodytext">The effective user must have update security group access level for the customer associated with the record manipulated by this function call. </p>
<p class="bodytext"><span class="unixoutputc">GROUP_ACCESS_TRE_V</span> view lists security group access level values.  </p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="13472.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="13476.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


