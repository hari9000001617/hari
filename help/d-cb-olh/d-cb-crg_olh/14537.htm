<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> DerivedAttributeArrayUpdate&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "35190.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "14538.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('14537')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="35190.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="14538.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">DerivedAttributeArrayUpdate&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'DerivedAttributeArrayUpdate&amp;()' (14537)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="558" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="252"><p class="tableheading">Interface 1</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="258"><p class="tableheading">Interface 2</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="252"><pre class="unixinputp">DerivedAttributeArrayUpdate&amp;(    DerivedAttributeId&amp;,    OldEffectiveDate~,    var&nbsp;LastModified~,    EffectiveStartDate~,    EffectiveEndDate~,    const Opcode&amp;[],    const RowId&amp;[],    const Rows?[])&nbsp;</pre>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="258"><pre class="unixinputp">DerivedAttributeArrayUpdate&amp;(    DerivedAttributeId&amp;,    OldEffectiveDate~,    var&nbsp;LastModified~,    EffectiveStartDate~,    EffectiveEndDate~,    const&nbsp;Rows?[])</pre>
</td>
</tr>
<tr align="left" valign="top">
<td class="tableheading" width="252"><p class="tableheading">Interface 3</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="258"><p class="tableheading">&nbsp;</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="252"><pre class="unixinputp">DerivedAttributeArrayUpdate&amp;(    const DerivedAttributeId&amp;,    const OldEffectiveDate~,    var&nbsp;LastModified~,    const EffectiveStartDate~,    const EffectiveEndDate~,    Opcodes&amp;[],    SeqNr&amp;[],    const FieldNames$[],    FieldValues?[],    const DoNotPurgeIndCode&amp;)</pre>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="258"><pre class="unixinputp">&nbsp;</pre>
</td>
</tr>

</table>
<p class="syntaxheading">Description</p>
<p class="bodytext">Maintains derived attribute tables that have a storage context of Global or Global-Shared, including derived attribute tables using extended features.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="288" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="bold">Function Type</span></p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Local Built-in</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="bold">Service</span></p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">(Local)</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Any</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="170"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="526"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">DerivedAttributeId&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  ID of the derived attribute to be updated.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">OldEffectiveDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  Date-time used to retrieve the derived attribute table.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">LastModified~</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  Last modified date-time of the derived attribute table effective as at <span class="unixoutputc">OldEffectiveDate~</span>.</p>
<p class="tablebodytext">If this record does not exist for a tenanted derived attribute, the last modified date-time is ignored on input.</p>
<p class="tablebodytext">Out:  Last modified date-time of the updated derived attribute table as at <span class="unixoutputc">EffectiveStartDate~</span>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">EffectiveStartDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  Start of the date-time range for which changes are to be applied.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="tablenote">It is mandatory.</p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">EffectiveEndDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  End of the date-time range for which changes are to be applied.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="tablenote">It is mandatory.</p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">Opcode&amp;[]</span></p>
<p class="tablebodytext">OpCodes&amp;[]</p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">Operations to perform on the row.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">RowId&amp;[]</span></p>
<p class="tablebodytext"><span class="unixoutputc">Seqnr&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  If a derived attribute is using standard features, sequence number of the row or rows being inserted, updated, or deleted.</p>
<p class="tablebodytext">The following applies when specifying sequence numbers for derived attributes using standard features:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">Sequence numbers are processed (and therefore interpreted) in the order in which they are specified.  Therefore, deleted rows must be specified in descending sequence order (for example, 6,3,2), and inserted rows must be specified in ascending sequence order (for example, 2,3,6).</li><li class="tablelistbullet">The starting number for the first row is 1 (not 0).  For example, to delete the first three rows from the table, specify 3,2,1 (not 2,1,0).</li><li class="tablelistbullet">The contiguity of sequence numbers is maintained by this function.</li></ul><p class="tablebodytext">For derived attributes using extended features, it contains extended derived attribute row IDs instead of normal sequence numbers. When inserting rows, it must be specified with a placeholder value (for example, <span class="unixoutputc">null&amp;</span>) because the row IDs are allocated automatically, and cannot be specified.</p>
<p class="tablebodytext">Rows for derived attribute tables using extended features are processed in the following order:</p>
<ol class="tablelistnumber"><li class="tablelistnumber">Insert</li><li class="tablelistnumber">Update</li><li class="tablelistnumber">Delete.</li></ol></td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">Rows?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In:  Two-dimensional array of rows inserted, updated, or deleted (if supported by the interface using <span class="unixoutputc">Opcode&amp;[]</span>).</p>
<p class="tablebodytext">An empty row can be specified when deleting.</p>
<p class="tablebodytext">The first dimension is the row number, and the second dimension is the column number (as defined by entity validation).  The data type of the array element must be cast using the appropriate type indicator.  For example, if entity validation specifies a real, the value is referenced using the real type indicator (<span class="unixoutputc">#</span>).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">FieldNames$[]</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In: Names of the fields in the <span class="unixoutputc">DERIVED_ATTRIBUTE_ARRAY_TRE_V</span> view to be updated.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">FieldValues?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In: Values to be updated. It is a two-dimensional array in <span class="unixoutputc">[Row][Field]</span> order. An empty row can be specified for records being deleted.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="170"><p class="tablebodytext"><span class="unixoutputc">DoNotPurgeIndCode&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="526"><p class="tablebodytext">In: If set to: </p>
<ul class="tablelistbullet"><li class="tablelistbullet">1, the derived attribute table is not purged from the cache. </li><li class="tablelistbullet">0, the derived attribute table is purged.</li></ul></td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">Interface 1 returns the number of rows successfully processed, which should equal the size of <span class="unixoutputc">Opcode&amp;[]</span>).</p>
<p class="bodytext">Interface 2 returns the number of rows successfully processed for insert and update.</p>
<p class="bodytext">For both interfaces, if the function is not successful (or if either <span class="unixoutputc">EffectiveStartDate~</span> or <span class="unixoutputc">EffectiveEndDate~</span> are outside the derived attribute record's date-time range), an error is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">If the derived attribute is configured to be tenantable (<span class="unixoutputc">TENANT_IND_CODE</span> is set to 1), and the implementation is: </p>
<ul class="listbullet"><li class="listbullet">Untenanted and an empty table does not exist, an empty derived attribute table for the derived attribute is created during the first successful call to this function. </li><li class="listbullet">Tenanted, an empty derived attribute table is created for each tenant the first time a user associated with a specific tenant calls this function.</li></ul><p class="bodytext">The empty derived attribute table has the following properties:</p>
<ul class="listbullet"><li class="listbullet">Spans the date range of the derived attribute definition effective as at the date of the update (that is, <span class="unixoutputc">OldEffectiveDate~</span>).</li><li class="listbullet">Has a security group that matches the user's primary security group.</li></ul><p class="bodytext">If the derived attribute has row-level security enabled, a user must have update privileges to the security group of the derived attribute table to insert rows into the table. If a security group is not specified for the new derived attribute table rows, the security group matches the primary security group of the user.</p>
<p class="bodytext">Access to view, update, and delete derived attribute table rows is controlled by the security group of the:</p>
<ul class="listbullet"><li class="listbullet">Row, if row-level security is enabled.</li><li class="listbullet">Derived attribute table, if row-level security is not enabled. </li></ul><p class="syntaxheading">Interface 1</p>
<p class="bodytext">Interface 1 is used to insert, update, or delete rows.  The following applies:</p>
<ul class="listbullet"><li class="listbullet">The operation (insert, update, or delete) is specified explicitly using <span class="unixoutputc">Opcode&amp;[]</span>.</li><li class="listbullet">Entity validation defines fields that can be specified in <span class="unixoutputc">Rows?[]</span>, and their order, data type, and whether they are mandatory.</li><li class="listbullet">On successful completion, if the updated derived attribute is of context:<ul class="listdashbullet2"><li class="listdashbullet2">Global, it is purged from the process caches.</li><li class="listdashbullet2">Global-Shared, it is incrementally updated from the shared cache.</li></ul></li></ul><p class="syntaxheading">Interface 2</p>
<p class="bodytext">Interface 2 provides a simplified version of interface 1, and is used to insert and update rows.</p>
<p class="bodytext">To delete rows using a similar simplified interface, use the <span class="unixoutputc"><a id="h70427" class="jump" title="biDerivedAttributeDelete&amp;()" href="11789.htm" target="_self">biDerivedAttributeDelete&amp;()</a></span> function.</p>
<p class="bodytext">The following applies:</p>
<ul class="listbullet"><li class="listbullet">The operation (insert or update) is specified implicitly.</li><li class="listbullet">The row identifiers (<span class="unixoutputc">Seqnr&amp;[]</span> parameter) are not required.</li><li class="listbullet">This interface is usually used to manage derived attribute tables associated with partition exception derived attributes (for example, <span class="unixoutputc">AccountPartitionException</span>, <span class="unixoutputc">CustomerPartitionException</span>, and <span class="unixoutputc">ServicePartitionException)</span>.</li><li class="listbullet">When the function called using interface 2 determines the appropriate operation, the parameters are passed to interface 1 for further processing. Therefore, other functionality and restrictions that apply to interface 1 also apply to interface 2.</li></ul>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="35190.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="14538.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


