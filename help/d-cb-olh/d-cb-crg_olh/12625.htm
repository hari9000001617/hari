<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> biInvoiceAllocateContrib&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "12624.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "12626.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('12625')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="12624.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="12626.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">biInvoiceAllocateContrib&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'biInvoiceAllocateContrib&amp;()' (12625)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="564" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="258"><p class="tableheading">Interface 1</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="258"><p class="tableheading">Interface 2</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="258"><pre class="unixinputp">biInvoiceAllocateContrib&amp;(    InvoiceId&amp;,    ReceivableTypeId&amp;[],    InvoiceAmount#[],    var&nbsp;PaymentId&amp;[],    var&nbsp;AdjustmentId&amp;[],    var&nbsp;LastModified~[],    var&nbsp;AllocateRecTypeId&amp;[],    var&nbsp;AllocatedAmount#[])</pre>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="258"><pre class="unixinputp">biInvoiceAllocateContrib&amp;(    InvoiceId&amp;,    ReceivableTypeId&amp;[],    InvoiceAmount#[],    var&nbsp;PaymentId&amp;[],    var&nbsp;AdjustmentId&amp;[],    var InvoiceId&amp;[],    var&nbsp;LastModified~[],    var&nbsp;AllocateRecTypeId&amp;[],    var&nbsp;AllocatedAmount#[])</pre>
</td>
</tr>

</table>
<p class="syntaxheading">Description</p>
<p class="bodytext">Allocates payments, adjustments, and invoices (collectively referred to as transactions) to receivable types of the applied invoice, using the contributory algorithm (refer to <span class="referrals">Remarks</span>).</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="288" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="101"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="101"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Method</span></p>
</td>
<td style="border:1px solid #010101;" width="101"><p class="tablebodytext">Remote</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="175"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="521"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">InvoiceId&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">In:  ID of the invoice being allocated a payment or adjustment.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">ReceivableTypeId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">In:  IDs of receivable types.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">InvoiceAmount#[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">In:  Amounts associated with receivable types for the invoice.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">PaymentId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  IDs of allocated payments.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">AdjustmentId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  IDs of allocated adjustments.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">InvoiceId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  IDs of invoices allocated to this invoice.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">LastModified~[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  Last modified date-time of allocated payments or adjustments.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">AllocateRecTypeId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  IDs of receivable types.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="175"><p class="tablebodytext"><span class="unixoutputc">AllocatedAmount#[]</span></p>
</td>
<td style="border:1px solid #010101;" width="521"><p class="tablebodytext">Out:  Amounts allocated for payments, adjustments, or invoices and receivable types.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">1 (TRUE) if successful; otherwise, an error is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">The functions retrieve all unallocated payments and adjustments for the account of the invoice.  Interface 2 also includes open invoices associated with the account of this invoice where the current due date of the invoices makes them eligible to be allocated. </p>
<p class="bodytext">Transactions are allocated in ascending date order, using the received date for payments and adjustments and the issue date for invoices.  If a transaction does not completely include the amount of the invoice, the transaction's amount is distributed among the invoice's receivable types in proportion to the contribution of each receivable type to the current amount due for the invoice.</p>
<p class="bodytext">Unallocated transaction amounts with a receivable type specified are allocated:</p>
<ul class="listbullet"><li class="listbullet">Only to that receivable type for the invoice.  </li><li class="listbullet">In preference to unallocated transaction amounts with no receivable type specified.</li></ul><p class="bodytext">If the invoice does not have an amount specified for a receivable type, transaction amounts for that receivable type remain unallocated.</p>
<p class="bodytext">After allocating transactions with a receivable type specified, transactions without a receivable type specified are allocated.</p>
<p class="bodytext">Any amount remaining after a transaction is allocated is treated as a debit or credit to the account. </p>
<p class="bodytext">Interface 2 supports the use of invoices to represent credit notes.</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="12624.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="12626.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


