<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> biEventRevoke&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "58620.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "12545.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('58581')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="58620.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="12545.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">biEventRevoke&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'biEventRevoke&amp;()' (58581)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="552" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="252"><p class="tableheading">Interface 1</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="252"><p class="tableheading">Interface 2</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="252"><pre class="unixinputp">biEventRevoke&amp;(    const&nbsp;EventId&amp;[]    const&nbsp;ChargeStartDate~[]    const&nbsp;ConfirmOnly&amp;    var&nbsp;Statistics?{})</pre>
</td>
<td width="48"><pre class="unixinputp">&nbsp;</pre>
</td>
<td width="252"><pre class="unixinputp">biEventRevoke&amp;(    const&nbsp;EventId&amp;[]    const FileId&amp;[]    const&nbsp;ChargeStartDate~[]    const&nbsp;ConfirmOnly&amp;    var&nbsp;Statistics?{})</pre>
</td>
</tr>
<tr align="left" valign="top">
<td class="tableheading" width="252"><p class="tableheading">Interface 3</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="252"><p class="bodytext">&nbsp;</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="252"><pre class="unixinputp">biEventRevoke&amp;(    const&nbsp;EventId&amp;[]    const ChargeStartDate~[]    const&nbsp;ConfirmOnly&amp;    const ForcedRevoke&amp;    var Statistics?{})</pre>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="252"><p class="tablebodytext">&nbsp;</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">Revokes events with generated charges that are unbilled, unexported, and have been aggregated into rating subtotals or GL guidance amounts.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="294" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="187"><p class="tablebodytext"><span class="bold">Method</span></p>
</td>
<td style="border:1px solid #010101;" width="107"><p class="tablebodytext">Remote</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="161"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="535"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">EventId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">In:  List of event IDs to be revoked.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">FileId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">In:  ID of the file containing the events to be revoked.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">ChargeStartDate~[]</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">In:  List of charge start dates for events.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">ConfirmOnly&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">In:  Confirmation flag.  If set to a non-zero value (TRUE), no updates or deletes are performed.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">ForceRevoke&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">In:  Forced revoke flag.  If set to a non-zero value (TRUE), forced revoke is performed.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="161"><p class="tablebodytext"><span class="unixoutputc">Statistics?{}</span></p>
</td>
<td style="border:1px solid #010101;" width="535"><p class="tablebodytext">Out:  Hash of collected statistics:</p>
<ul class="tablelistbullet"><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Events'}</span><p class="tablelistcontinue">Number of events deleted, which should equal the size of <span class="unixoutputc">EventId&amp;[]</span>.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Charges'}</span><p class="tablelistcontinue">Number of charges deleted for events.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Services'}</span><p class="tablelistcontinue">Number of service IDs related to impacted subtotals.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Accounts'}</span><p class="tablelistcontinue">Number of account IDs updated as a result of deleting real-time aggregation events.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Subtotals'}</span><p class="tablelistcontinue">Number of subtotal aggregate records updated as a result of deleting the events.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'Guidance'}</span><p class="tablelistcontinue">Number of GL guidance aggregate records updated as a result of deleting the events.</p>
</li><li class="tablelistbullet"><span class="unixoutputc">Statistics&amp;{'EntitlementAllocations'}</span><p class="tablelistcontinue">Number of entitlement allocations updated as a result of deleting the events.</p>
</li></ul></td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">1 (TRUE) if successful; otherwise, an error is raised when:</p>
<ul class="listbullet"><li class="listbullet">The normalised event file has not finished processing.</li><li class="listbullet">Charges generated by a normalised event have been invoiced.</li><li class="listbullet">Events are associated with an exported file.</li><li class="listbullet">A specified event in the <span class="unixoutputc">NORMALISED_EVENT</span> table is not at its corresponding <span class="unixoutputc">ChargeStartDate~</span>.</li></ul><p class="syntaxheading">Remarks</p>
<p class="bodytext">The function performs the following steps:</p>
<ul class="listbullet"><li class="listbullet">Deletes the specified set of events, and the events' associated charges, rating subtotal deltas, GL guidance delta rows, and temporal entitlement allocation delta rows. </li><li class="listbullet">Corrects any unbilled account amounts, GL guidance aggregates, and rating subtotal values originally updated by the events.<p class="listcontinue">For each account with a corrected unbilled amount, if an account balance function is defined for the associated account type, the function is called and any requested account changes are applied to the account (see the <span class="referrals">Finance Guide for Singleview</span>).</p>
</li><li class="listbullet">Corrects temporal entitlement allocation amounts for allocation deltas associated with the events being revoked.</li><li class="listbullet">Deletes temporal entitlement allocations that have not been consumed by any event and that were created while rating the events being revoked.  Also deletes any scheduled functions created with these allocations that have a status of <span class="bold">Pending </span>or <span class="bold">Failure (Retries Pending)</span>.</li><li class="listbullet">Corrects GL guidance amounts for events being revoked, and reduces the number of events for any affected GL guidance rows.</li><li class="listbullet">Deletes GL guidance rows with zero amounts, if no component of the original amount is posted to the Sales Journal.</li><li class="listbullet">Purges the account, rating subtotal, and temporal entitlement cache.</li><li class="listbullet">Collects statistics on the number of updated and deleted items. </li></ul>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="58620.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="12545.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


