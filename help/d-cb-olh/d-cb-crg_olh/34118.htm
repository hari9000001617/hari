<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> &lt;GLAllocationFunctionName&gt;&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "13357.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "74266.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('34118')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="13357.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="74266.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">&lt;GLAllocationFunctionName&gt;&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic '&lt;GLAllocationFunctionName&gt;&amp;()' (34118)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="558" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="246"><p class="tableheading">Payment Interface</p>
</td>
<td width="42"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="270"><p class="tableheading">Adjustment Interface</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="246"><pre class="unixinputp">PaymentGL&amp;(    const OpCode&amp;,    const PaymentFields?{},    var GLAllocations?[])</pre>
</td>
<td width="42"><pre class="unixinputp">&nbsp;</pre>
</td>
<td width="270"><pre class="unixinputp">AdjustmentGL&amp;(    const OpCode&amp;,    const AdjustmentFields?{},    var GLAllocations?[])</pre>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">Overrides default GL codes for adjustments and payments. This is a template function used to create user-defined functions.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="288" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="bold">Method</span></p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Remote</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="174"><p class="tableheading">Parameters</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="522"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext"><span class="unixoutputc">OpCode&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="522"><p class="tablebodytext">In: Mode of operation.</p>
<p class="tablebodytext">Set to 1 (insert), if a payment or adjustment is being applied for the first time.</p>
<p class="tablebodytext">Set to 2 (update), if a payment or adjustment is being reapplied.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext"><span class="unixoutputc">PaymentFields?{}</span></p>
</td>
<td style="border:1px solid #010101;" width="522"><p class="tablebodytext">In:  Payment details.</p>
<p class="tablebodytext">Field names are taken from the <span class="unixoutputc">PAYMENT_TRE_V</span> view in the <span class="referrals">Configurer's Reference Guide for Singleview Convergent Billing (Vol. 1)</span>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext"><span class="unixoutputc">AdjustmentFields?{}</span></p>
</td>
<td style="border:1px solid #010101;" width="522"><p class="tablebodytext">In:  Adjustment details.</p>
<p class="tablebodytext">Field names are taken from the <span class="unixoutputc">ADJUSTMENT_TRE_V</span> view in the <span class="referrals">Configurer's Reference Guide for Singleview Convergent Billing (Vol. 1)</span>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext"><span class="unixoutputc">GLAllocations?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="522"><p class="tablebodytext">In/Out:  GL allocations to be performed.</p>
<p class="tablebodytext">The table below lists the keys in the hash.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">TRUE if the <span class="unixoutputc">GLAllocations?[]</span> array has been modified by this function; FALSE if no changes to the <span class="unixoutputc">GLAllocations?[]</span> array were performed; an error is raised if the transaction cannot proceed, and the transaction is rolled back.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">GL allocation functions allow override of default GL codes for adjustments and payments.</p>
<p class="bodytext">Examples are:</p>
<ul class="listbullet"><li class="listbullet">Debit amount is split over two or more GL codes.</li><li class="listbullet">Adjustment to reduce the liability to multiple partners without using multiple adjustments.</li></ul><p class="bodytext">These functions cannot alter the net effect on GL codes associated with allocations to receivable types.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">In most implementations, GL allocation functions are not necessary because the default GL codes are adequate.</p></td></tr></table>
<p class="bodytext">Each hash passed to the function in the <span class="unixoutputc">GLAllocations?[]</span> array corresponds to an allocation of the payment or adjustment. The GL allocation function can alter the contents of the array so that allocations of the payment or adjustment to GL codes are altered. The array contents are used to create payment or adjustment GL guidance records.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">The function can change default allocations, and add new allocations. However, any changes to the allocations must not change the accounts receivable (A/R) impact of the payment or adjustment.</p></td></tr></table>
<p class="bodytext">After rounding to three decimal places, any row in the array where the value for the amount is zero is ignored. An amount that is zero after rounding is considered to be too small to have any effect on the general ledger.</p>
<p class="bodytext">If the GL allocation function has modified the GL allocation amounts, ensure that the amounts allocated to GL codes associated with allocations to receivable types are not altered. If the <span class="unixoutputc">DEBIT_GL_CODE_ID </span>and <span class="unixoutputc">CREDIT_GL_CODE_ID </span>are defined or altered, the transaction type codes may need to be altered.</p>
<p class="bodytext">The following table lists <span class="unixoutputc">GLAllocations?[]</span> parameter hash keys.</p>
<p class="bodytext">&nbsp;</p>
<p class="caption">GLAllocations?[] Parameter Hash Keys</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="192"><p class="tableheading">Key</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="78"><p class="tableheading">Type</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="426"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="unixoutputc">TRANSACTION_TYPE_CODE</span></p>
</td>
<td style="border:1px solid #010101;" width="78"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="426"><p class="tablebodytext">Transaction code used when posting to the Sales Journal.</p>
<p class="tablebodytext">The table below lists rules for defining or altering transaction type codes.</p>
<p class="tablebodytext">If it is not present or if its value is undefined, it is automatically derived.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="unixoutputc">AMOUNT</span></p>
</td>
<td style="border:1px solid #010101;" width="78"><p class="tablebodytext">Real</p>
</td>
<td style="border:1px solid #010101;" width="426"><p class="tablebodytext">Amount to be posted.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="unixoutputc">DEBIT_GL_CODE_ID</span></p>
</td>
<td style="border:1px solid #010101;" width="78"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="426"><p class="tablebodytext">ID of the debit GL code to which the amount is to be posted.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="192"><p class="tablebodytext"><span class="unixoutputc">CREDIT_GL_CODE_ID</span></p>
</td>
<td style="border:1px solid #010101;" width="78"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="426"><p class="tablebodytext">ID of the credit GL code to which the amount is to be posted.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="bodytext">The following table lists rules for defining or altering transaction type codes.</p>
<p class="bodytext">&nbsp;</p>
<p class="caption">TRANSACTION_TYPE_CODE Rules</p>
<table class="tableintopic" width="714" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<th class="tableheading" style="border:1px solid #010101;" width="102"><p class="tableheading">Transaction Type</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="96"><p class="tableheading">No. GL Codes with Accounts Receivable Account Category</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="108"><p class="tableheading">No. of GL Codes Associated with Receivable Type</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="96"><p class="tableheading">Transaction Type Code</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="258"><p class="tableheading">Description</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="54"><p class="tableheading">Code</p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" rowspan="4" width="102"><p class="tablebodytext">Adjustment</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Any</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">0</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Adjustments: Credit</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Adjustment amounts against invoices.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">30</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Adjustments: Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Adjustment amounts to general credit.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">31</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">2</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Adjustments: Credit to Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Reallocation of adjustment amounts between general credit and specific invoices.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">32</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">2</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">2</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Adjustments: Invoice to Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Reallocation of adjustment amounts between invoices, or between receivable types in a single invoice.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">33</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" rowspan="4" width="102"><p class="tablebodytext">Payment</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Any</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">0</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Payments: Credit</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Payment amounts against invoices.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">20</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Payments: Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Payment amounts to general credit.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">21</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">2</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">1</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Payments: Credit to Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Reallocation of payment amounts between general credit and specific invoices.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">22</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">3</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">2</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">Payments: Invoice to Invoice</p>
</td>
<td style="border:1px solid #010101;" width="258"><p class="tablebodytext">Reallocation of payment amounts between invoices, or between receivable types in a single invoice.</p>
</td>
<td style="border:1px solid #010101;" width="54"><p class="tablebodytext">23</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="bodytext">The transaction type must be compatible with the <span class="unixoutputc">SALES_JOURNAL_TYPE_CODE</span> of this record's <span class="unixoutputc">SALES_JOURNAL</span> entry.</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="13357.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="74266.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


