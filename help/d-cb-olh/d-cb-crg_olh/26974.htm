<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> fCMN_TREProdInstServiceAdd_R&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "26973.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "26975.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('26961');expand('26960');expand('40664');highlight('26974')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="26973.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="26975.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h4 class="heading4">fCMN_TREProdInstServiceAdd_R&amp;()</h4>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'fCMN_TREProdInstServiceAdd_R&amp;()' (26974)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<pre class="unixinputp">fCMN_TREProdInstServiceAdd_R&amp;(    l_ProductInstanceId&amp;,<span class="unixinputc">    </span>l_LastModDate~,<span class="unixinputc">    </span>l_StartDate~,<span class="unixinputc">    </span>l_ServiceDetails?[])</pre>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">Adds one or more compatible optional services to a product instance.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="288" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="186"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="102"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="186"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="102"><p class="tablebodytext">Any</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="180"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="516"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="unixoutputc">l_ProductInstanceId&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="516"><p class="tablebodytext">In:  ID of the product instance to which to add the service.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="unixoutputc">l_LastModDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="516"><p class="tablebodytext">In:  Last modified date of the product instance to which the service is being added.</p>
<p class="tablebodytext">It must match the last modified date for the product instance record being updated; otherwise, an exception is raised.</p>
<p class="tablebodytext">The last modified date can be retrieved using<span class="unixoutputc"> fCMN_TREProductInstanceSearch_R?[]()</span>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="unixoutputc">l_StartDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="516"><p class="tablebodytext">In:  Start date of when the addition should take effect.</p>
<p class="tablebodytext">If not specified, the current date is used. </p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="180"><p class="tablebodytext"><span class="unixoutputc">l_ServiceDetails?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="516"><p class="tablebodytext">In:  Array of hashes with each hash containing the values for all mandatory and optional fields for a service.</p>
<p class="tablebodytext">For more information, refer to <span class="referrals">Remarks</span> below.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">1 if successful; otherwise, an exception is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">Mandatory equipment for the service is automatically allocated; optional equipment can be specified.</p>
<p class="bodytext">If optional equipment details are not specified ('<span class="unixoutputc">EQUIPMENT</span>' hash element is omitted), no equipment allocation is performed and a service must be identified.  If service number (<span class="unixoutputc">SERVICE_NUMBER</span> field) is also not specified, an attempt to assign an existing equipment record to the service instance is made.  If no equipment records are found, the service creation fails and an exception is raised.</p>
<p class="bodytext">The following table lists keys of the <span class="unixoutputc">l_ServiceDetails?[]</span> parameter.</p>
<p class="bodytext">&nbsp;</p>
<p class="caption">l_ServiceDetails?[] Parameter Keys</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<th class="tableheading" style="border:1px solid #010101;" width="198"><p class="tableheading">Element</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="84"><p class="tableheading">Data Type</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="414"><p class="tableheading">Description</p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'SERVICE_ITEM_SEQNR'}</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Item sequence number for the service in relation to the product instance.</p>
<p class="tablebodytext">If a service instance with the same item number or range number combination exists for the product instance, an exception is raised. </p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'SERVICE_RANGE_SEQNR'}</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Range sequence number within the item sequence for this service in relation to the product instance.</p>
<p class="tablebodytext">If a service instance with the same item number and range number combination exists for the product instance, an exception is raised.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="tablenote">Optional services can be added to the product instance without specifying the <span class="unixoutputc">SERVICE_RANGE_SEQNR</span> value in the input hash.  If not specified, the value is derived by the next in the sequence for that <span class="unixoutputc">SERVICE_ITEM_SEQNR</span>.</p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'&lt;SERVICE_TRE_V&gt;'}</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Various</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Service details using fields from <span class="unixoutputc">SERVICE_TRE_V</span> view with the field name as the <span class="unixoutputc">&lt;SERVICE_TRE_V&gt;</span> hash key.</p>
<p class="tablebodytext">The data type of the hash entries correspond to the data type of the view columns.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'EQUIPMENT'}</span><br><span class="unixoutputc">[&lt;EQUIP_ITEM_SEQNR&gt;]</span><br><span class="unixoutputc">[&lt;EQUIP_RANGE_SEQNR&gt;]</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Unknown</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext"><span class="unixoutputc">[&lt;EQUIP_ITEM_SEQNR&gt;]</span> is an array (1..n) of equipment items.</p>
<p class="tablebodytext"><span class="unixoutputc">[&lt;EQUIP_RANGE_SEQNR&gt;]</span> is an array (1..n) of equipment ranges.</p>
<p class="tablebodytext">Only required for optional equipment (mandatory equipment is automatically allocated).</p>
<p class="tablebodytext">The data type of the element is either integer or hash. Any other data type causes an error to be raised.</p>
<p class="tablebodytext">If the data type is integer, a value of 1 specifies automatic allocation of the first available equipment item of the appropriate type.</p>
<p class="tablebodytext">If the data type is hash, identifies specific equipment for allocation whether equipment is optional or mandatory.  Equipment is identified by <span class="unixoutputc">SERIAL_NUMBER</span> or <span class="unixoutputc">NETWORK_ADDRESS</span>; the elements of the hash use these strings as keys and the associated values identify the item of equipment.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'LISTS'}</span><br><span class="unixoutputc">{'&lt;TABLE_NAME&gt;'}</span><br><span class="unixoutputc">[&lt;ROW_NUMBER&gt;]</span><br><span class="unixoutputc">{'&lt;COLUMN_NAME&gt;'}</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Various</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Lists for the service.</p>
<p class="tablebodytext"><span class="unixoutputc">&lt;TABLE_NAME&gt;</span> refers to the derived attribute table name.</p>
<p class="tablebodytext"><span class="unixoutputc">[&lt;ROW_NUMBER&gt;]</span> is an array (0..n) of rows for the table.</p>
<p class="tablebodytext">Values for the columns for each row of a list are specified in the <span class="unixoutputc">{'&lt;COLUMN_NAME&gt;'}</span> hash.  The key for an entry can either be the display label of a column's attribute type (if defined), or a column name (for example, <span class="unixoutputc">INDEX1_VALUE</span>) from the database definition for the derived attribute table content (<span class="unixoutputc">DERIVED_ATTRIBUTE_ARRAY</span>).  The EVS section has more information about specifying keys and values.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'FROM_ACCOUNT_TYPE_</span><br><span class="unixoutputc">IDS'}[]</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Optional array of account type IDs.</p>
<p class="tablebodytext">It is required if creating charge categories with credit (transfer) account information for the service.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'FROM_ACCOUNT_IDS'}[]</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Integer</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Optional array of account IDs.</p>
<p class="tablebodytext">It is required if creating charge categories with credit (transfer) account information for the service. </p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">{'COMPLETE_PARAMS'}{}</span></p>
</td>
<td style="border:1px solid #010101;" width="84"><p class="tablebodytext">Unknown Hash</p>
</td>
<td style="border:1px solid #010101;" width="414"><p class="tablebodytext">Optional hash specifying user-defined data for use in entity validation.</p>
<p class="tablebodytext">As part of the service addition process, the hash is passed to the <span class="unixoutputc">fEV_ProdInstComplete&amp;()</span> EVS function as the <span class="unixoutputc">callParams?{}</span> parameter.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="26973.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="26975.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


