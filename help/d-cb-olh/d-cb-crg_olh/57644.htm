<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> AdjustmentInsert&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "39954.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "51570.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('57644')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="39954.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="51570.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">AdjustmentInsert&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'AdjustmentInsert&amp;()' (57644)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="522" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="240"><p class="tableheading">Interface 1 (deprecated)</p>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="234"><p class="tableheading">Interface 2</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="240"><pre class="unixinputp">AdjustmentInsert&amp;(    var&nbsp;LastModified~,    FieldNames$[],     StringFieldValues$[],    IntegerFieldValues&amp;[],    RealFieldValues#[],    DateFieldValues~[],     InvoiceId&amp;[],    Invoice$[],     Amount#[])</pre>
</td>
<td width="48"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="234"><pre class="unixinputp">AdjustmentInsert&amp;(    var&nbsp;LastModified~,    const&nbsp;FieldNames$[],    const&nbsp;FieldValues?[])</pre>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">Inserts adjustment details into the database.  </p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">Interface 1 is deprecated, and is used only for backward compatibility.</p></td></tr></table>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="288" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Method</span></p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Local</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="189"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="507"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">LastModified~</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">Out:  Last modified date-time of the inserted adjustment.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">FieldNames$[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  List of fields to insert, which correspond to columns in the <span class="unixoutputc">ADJUSTMENT_TRE_V</span>.</p>
<p class="tablebodytext">In the deprecated interface, string fields must be specified first, followed by integer, real, and date fields.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">FieldValues?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  Values of fields to insert, in the order that their counterpart names are specified in <span class="unixoutputc">FieldNames$[]</span>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">StringFieldValues$[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Values of string fields to insert.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">IntegerFieldValues&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Values of integer fields to insert.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">RealFieldValues#[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Values of real fields to insert.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">DateFieldValues~[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Values of date fields to insert.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">InvoiceId&amp;[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Array of invoices IDs against which adjustments are to be made (may be empty).</p>
<p class="tablebodytext">It can be an empty array.</p>
<p class="tablebodytext">Invoice IDs take precedence over invoice names.  If specified, <span class="unixoutputc">Invoice$[]</span> is ignored.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">Invoice$[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Array of invoice ID strings against which adjustments are to be made (may be empty).</p>
<p class="tablebodytext">It can be an empty array.</p>
<p class="tablebodytext">Invoice IDs take precedence over invoice names.  It cannot be specified if <span class="unixoutputc">InvoiceId&amp;[]</span> is specified.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="189"><p class="tablebodytext"><span class="unixoutputc">Amount#[]</span></p>
</td>
<td style="border:1px solid #010101;" width="507"><p class="tablebodytext">In:  (Deprecated) Array of amounts to be paid against each invoice.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">ID assigned to the new adjustment if successful; otherwise, an error is raised.</p>
<p class="bodytext">The precision of the payment amount (<span class="unixoutputc">PAYMENT_TRE_V.AMOUNT</span> or <span class="unixoutputc">Amount#[]</span>) must be consistent with the precision of the associated currency.  If the precision of the parameter is not consistent, an error is raised and no value is returned.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">The effective user must have insert security group access level for the customer associated with the record manipulated by this function call.  <span class="unixoutputc">GROUP_ACCESS_TRE_V</span> view lists user group access level values.  </p>
<p class="bodytext">The customer partition and ID of the new adjustment is derived from the partition of the To Account, which is specified in either the <span class="unixoutputc">TO_ACCOUNT_NAME</span> or <span class="unixoutputc">TO_ACCOUNT_ID</span> field passed to the function.  A positive adjustment amount is a credit and a negative adjustment amount is a debit.</p>
<p class="bodytext">If the adjustment is part of a batch, the batch status must be Entered and the adjustment type of the inserted adjustment must be the same as the adjustment type of the associated adjustment batch; otherwise, an error is raised.</p>
<p class="bodytext">Some fields have an ID and a string equivalent (for example, <span class="unixoutputc">TO_ACCOUNT_ID</span> and <span class="unixoutputc">TO_ACCOUNT_NAME</span>).  When supplying a value for one of these fields, either the ID or the string can be supplied but not both.</p>
<p class="bodytext">The user profile determines the maximum amount of an adjustment that the user can perform.  The maximum amount is converted to the adjustment To Account currency and compared to the absolute amount of the adjustment.  An error is raised if the amount exceeds the maximum amount allowed by the user profile, or the maximum amount cannot be converted to the currency of the To Account. </p>
<p class="bodytext">Invoices specified in a manual allocation cannot have split receivables. </p>
<p class="bodytext">The method by which the adjustment is allocated to invoices, direct credits, and receivable types can be manual or automatic.</p>
<p class="syntaxheading">Interface 1 (deprecated)</p>
<p class="bodytext">The following conditions apply to Interface 1:</p>
<ul class="listbullet"><li class="listbullet">Automatic allocation means that the function calls <span class="unixoutputc">AdjustmentAllocate&amp;()</span> to retrieve the adjustment amount breakdown by invoice and receivable type.</li><li class="listbullet">Manual allocation of adjustments to receivable types is not supported.</li><li class="listbullet"><span class="unixoutputc">Invoice$[]</span> or <span class="unixoutputc">InvoiceId&amp;[]</span>, and <span class="unixoutputc">Amount#[]</span> can only be used for manual allocation. </li><li class="listbullet">If <span class="unixoutputc">Invoice$[]</span> or <span class="unixoutputc">InvoiceId&amp;[]</span> are used for manual allocation, and <span class="unixoutputc">Amount#[]</span> is less than the adjustment amount, the difference is used as a credit amount.</li></ul><p class="bodytext">The following table lists field combinations that trigger manual and automatic methods of allocation for Interface 1.</p>
<p class="bodytext">&nbsp;</p>
<p class="caption">Allocation Method Determination for Interface 1 (deprecated)</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<th class="tableheading" style="border:1px solid #010101;" width="108"><p class="tableheading">INVOICE_ID</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="108"><p class="tableheading">Invoice$[]<br>InvoiceId&amp;[]<br>Amount#[]</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="156"><p class="tableheading">ADJUSTMENT_<br>INVOICE_CODE</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="108"><p class="tableheading">AUTO_<br>ALLOCATE_<br>IND_CODE</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="216"><p class="tableheading">Allocation Method</p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Empty</p>
</td>
<td style="border:1px solid #010101;" width="156"><p class="tablebodytext">Not specified or NULL. Derived to be either of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split).</li></ul></td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Non-zero (TRUE)</p>
</td>
<td style="border:1px solid #010101;" width="216"><p class="tablebodytext">Automatic (single invoice, zero or one credit, zero or more receivable types).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Empty</p>
</td>
<td style="border:1px solid #010101;" width="156"><p class="tablebodytext">0 (Invoice)</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">0 (FALSE)</p>
</td>
<td style="border:1px solid #010101;" width="216"><p class="tablebodytext">Manual (single invoice, not broken down).</p>
<table class="cautionstyle" width="100%"><tr><td><p class="caution">Caution:</p><p class="tablecaution">Invoices must not have associated receivable types.  Otherwise, an error is raised.</p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Empty</p>
</td>
<td style="border:1px solid #010101;" width="156"><p class="tablebodytext">Not specified or NULL. Derived to be one of: </p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">2 (Unallocated).</li></ul></td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Non-zero (TRUE)</p>
</td>
<td style="border:1px solid #010101;" width="216"><p class="tablebodytext">Automatic (zero or more invoices and/or a credit, zero or more receivable types).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Empty</p>
</td>
<td style="border:1px solid #010101;" width="156"><p class="tablebodytext">2 (Unallocated)</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">0 (FALSE)</p>
</td>
<td style="border:1px solid #010101;" width="216"><p class="tablebodytext">Manual (direct credit, not broken down).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="156"><p class="tablebodytext">Not specified or NULL.  Derived to be one of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">2 (Unallocated).</li></ul></td>
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext">0 (FALSE)</p>
</td>
<td style="border:1px solid #010101;" width="216"><p class="tablebodytext">Manual.</p>
<table class="cautionstyle" width="100%"><tr><td><p class="caution">Caution:</p><p class="tablecaution">Invoices must not have associated receivable types.  Otherwise, an error is  raised.</p></td></tr></table>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Interface 2</p>
<p class="bodytext">The following conditions apply to interface 2:</p>
<ul class="listbullet"><li class="listbullet">The method by which the adjustment is allocated to invoices, payments, other adjustments, direct credits, and receivable types can be manual or automatic. </li><li class="listbullet">Automatic allocation means the function uses <span class="unixoutputc"><a id="h50581" class="jump" title="AdjustmentAllocate&amp;()" href="57643.htm" target="_self">AdjustmentAllocate&amp;()</a></span> to retrieve the adjustment amount breakdown by invoice, receivable type, adjustment (credit or debit notes), and payment.  </li><li class="listbullet">Adjustments can be made to other adjustments (for example, credit or debit notes).</li><li class="listbullet">The amount must have a valid precision for the currency.  This is checked using <span class="unixoutputc"><a id="h50582" class="jump" title="CurrencyConversion#()" href="14466.htm" target="_self">CurrencyConversion#()</a></span>.</li><li class="listbullet">If the specified account is the prime account of a customer node and the balance is 0, <span class="unixoutputc">REPORT_LEVEL_CODE</span> must be set to 1 (Invoice).  This applies to both From and To Accounts.</li><li class="listbullet">No records are inserted in the <span class="unixoutputc">ADJUSTMENT_INVOICE</span> table when <span class="unixoutputc">ADJUSTMENT_INVOICE_CODE</span> is NULL and <span class="unixoutputc">AUTO_ALLOCATE_IND_CODE</span> is FALSE.  Therefore, <span class="unixoutputc">AdjustmentInvoiceUpdate&amp;()</span> must be used when manual allocation is triggered so the <span class="unixoutputc">ADJUSTMENT_INVOICE</span> table is updated.</li><li class="listbullet">An error is raised if all the following conditions apply:<ul class="listdashbullet2"><li class="listdashbullet2"><span class="unixoutputc">AUTO_ALLOCATE_IND_CODE</span> is FALSE.</li><li class="listdashbullet2"><span class="unixoutputc">ADJUSTMENT_INVOICE_CODE</span> is 0 (Invoice), 3 (Adjustment), or 4 (Payment).</li><li class="listdashbullet2"><span class="unixoutputc">AMOUNT</span> exceeds the amount outstanding on the specified invoice, adjustment, or payment.  </li><li class="listdashbullet2">If the conditions above apply, to ensure that the difference between <span class="unixoutputc">AMOUNT</span> and the outstanding amount is applied as a credit to the account, set <span class="unixoutputc">AUTO_ALLOCATE_IND_CODE</span> to TRUE.</li></ul></li><li class="listbullet">If <span class="unixoutputc">ADJUSTMENT_STATUS_CODE</span> is specified, the following applies:<ul class="listdashbullet2"><li class="listdashbullet2">If the specified status value is 0 (Entered) or 3 (Future Dated), the adjustment is not applied, irrespective of the <span class="unixoutputc">ADJUSTMENT_RECEIVED_DATE</span>.  These status values can be set irrespective of whether or not the adjustment is part of a batch.</li><li class="listdashbullet2">If the specified status is 1 (Applied), the adjustment is applied if the following requirements are satisfied:<ul class="listdashbullet3"><li class="listdashbullet3">The adjustment is not part of a batch.</li><li class="listdashbullet3">The adjustment breakdown information is available.</li><li class="listdashbullet3">The <span class="unixoutputc">ADJUSTMENT_RECEIVED_DATE</span> &lt;= <span class="unixoutputc">ADJUSTMENT_DATE</span>.</li></ul><p class="listcontinue2">Otherwise, an error is raised.</p>
</li></ul></li><li class="listbullet">If <span class="unixoutputc">ADJUSTMENT_STATUS_CODE</span> is not specified, it is derived as follows:<ul class="listdashbullet2"><li class="listdashbullet2">For new individual adjustments with <span class="unixoutputc">ADJUSTMENT_RECEIVED_DATE</span> less than or equal to <span class="unixoutputc">ADJUSTMENT_DATE</span> and sufficient detail to apply the new adjustment to an invoice, the status is set to 1 (Applied). </li><li class="listdashbullet2">For new individual or batch adjustments with <span class="unixoutputc">ADJUSTMENT_RECEIVED_DATE</span> greater than <span class="unixoutputc">ADJUSTMENT_DATE</span>, the status is set to 3 (Future Dated).</li><li class="listdashbullet2">For all other adjustments, the status is set to 0 (Entered).</li></ul></li><li class="listbullet">If <span class="unixoutputc">DISPUTE_ID</span> is specified, the adjustment records a dispute resolution and the dispute's <span class="unixoutputc">ADJUSTMENT_ID</span> is updated to reference this adjustment. The following applies:<ul class="listdashbullet2"><li class="listdashbullet2"><span class="unixoutputc">TO_ACCOUNT_ID</span> must be equal to <span class="unixoutputc">ACCOUNT_ID</span> of the dispute.</li><li class="listdashbullet2"><span class="unixoutputc">AMOUNT</span> must be equal to <span class="unixoutputc">DISPUTED_AMOUNT</span> of the dispute.</li><li class="listdashbullet2">If <span class="unixoutputc">INVOICE_ID</span> is specified, it must match the <span class="unixoutputc">INVOICE_ID</span> of the dispute.</li><li class="listdashbullet2"><span class="unixoutputc">ADJUSTMENT_INVOICE_CODE</span> must be 0 (Invoice), or 2 (Unallocated) for invoice or account disputes respectively. If not specified, it is derived.</li><li class="listdashbullet2">The dispute must have a status of 1 (Accepted).</li><li class="listdashbullet2">The adjustment must be applied on insert.</li></ul></li></ul><p class="bodytext">For more information about the conditions for handling disputes, refer to the <span class="unixoutputc">DISPUTE_TRE_V</span> view in the <span class="referrals">Configurer's Reference Guide for Singleview Convergent Billing (Vol. 1)</span>.</p>
<p class="bodytext">The following table lists field combinations that trigger manual and automatic methods of allocation for interface 2.</p>
<p class="bodytext">&nbsp;</p>
<p class="caption">Allocation Method Determination for Interface 2</p>
<table class="tableintopic" width="696" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<th class="tableheading" style="border:1px solid #010101;" width="90"><p class="tableheading">INVOICE_<br>ID</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="114"><p class="tableheading">ALLOCATED_<br>ADJUSTMENT_<br>ID</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="90"><p class="tableheading">PAYMENT_<br>ID</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="96"><p class="tableheading">AUTO_<br>ALLOCATE_<br>IND_CODE</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="132"><p class="tableheading">ADJUSTMENT_<br>INVOICE_CODE</p>
</th>
<th class="tableheading" style="border:1px solid #010101;" width="174"><p class="tableheading">Allocation Method</p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">TRUE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">Not specified or NULL. Derived to be either of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split).</li></ul></td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Automatic (single invoice, zero or one credit, zero or more receivable types).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">FALSE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">0 (Invoice)</p>
</td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Manual (single invoice, not broken down).</p>
<table class="cautionstyle" width="100%"><tr><td><p class="caution">Caution:</p><p class="tablecaution">Invoices must not have associated receivable types.  Otherwise, an error is raised.</p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">TRUE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">Not specified or NULL. Derived to be one of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">2 (Unallocated)</li><li class="tablelistbullet">3 (Adjustment)</li><li class="tablelistbullet">4 (Payment).</li></ul></td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Automatic (zero or more invoices and/or a credit, zero or more receivable types, zero or more credit or debit notes, zero or more payments).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">FALSE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">2 (Unallocated)</p>
</td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Manual (direct credit, not broken down).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">TRUE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">Not specified or NULL. Derived to be either of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">3 (Adjustment).</li></ul></td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Automatic (single credit or debit note, zero or one credit).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">FALSE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">3 (Adjustment)</p>
</td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Manual (single credit or debit note).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">TRUE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">Not specified or NULL. Derived to be either of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">4 (Payment).</li></ul></td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Automatic (single payment, zero or one credit).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">FALSE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">4 (Payment)</p>
</td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Manual (single payment).</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="114"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="90"><p class="tablebodytext">Not specified</p>
</td>
<td style="border:1px solid #010101;" width="96"><p class="tablebodytext">FALSE</p>
</td>
<td style="border:1px solid #010101;" width="132"><p class="tablebodytext">Not specified or NULL. Derived to be one of:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0 (Invoice)</li><li class="tablelistbullet">1 (Split)</li><li class="tablelistbullet">2 (Unallocated)</li><li class="tablelistbullet">3 (Adjustment)</li><li class="tablelistbullet">4 (Payment).</li></ul></td>
<td style="border:1px solid #010101;" width="174"><p class="tablebodytext">Manual.</p>
<p class="tablebodytext">No <span class="unixoutputc">ADJUSTMENT_INVOICE</span> records are inserted.</p>
<p class="tablebodytext">Use <span class="unixoutputc">biAdjustment</span><br><span class="unixoutputc">InvoiceUpdate&amp;()</span>.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="39954.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="51570.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


