<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> biQuoteGenerate&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Configurer's Reference Guide for Singleview Convergent Billing 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "76017.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "76158.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('11007');expand('10992');highlight('75868')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="76017.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="76158.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">biQuoteGenerate&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'biQuoteGenerate&amp;()' (75868)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<table class="tableintopic" width="492" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td class="tableheading" width="210"><p class="tableheading">Interface 1</p>
</td>
<td width="36"><p class="tablebodytext">&nbsp;</p>
</td>
<td class="tableheading" width="246"><p class="tableheading">Interface 2</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="210"><pre class="unixinputp">biQuoteGenerate&amp;(    CustNodes?[],    EffectiveDate~,    NumOfBillRun&amp;,    var QuoteDetails?[],    var QuoteValidityDate~)    var CustomData?{})</pre>
</td>
<td width="36"><p class="tablebodytext">&nbsp;</p>
</td>
<td width="246"><pre class="unixinputp">biQuoteGenerate&amp;(    CustNodes?[],    EffectiveDate~,    NumOfBillRun&amp;,    var QuoteDetails?[],    var QuoteValidityDate~)</pre>
</td>
</tr>

</table>
<p class="syntaxheading">Description</p>
<p class="bodytext">Generates a quote for a customer.</p>
<p class="syntaxheading">Attributes</p>
<table class="tableintopic" width="396" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Function Type</span></p>
</td>
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext">Remote Synchronous</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Service</span></p>
</td>
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">biQuoteRO</span></p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Application Environment</span></p>
</td>
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext">Any</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="bold">Context</span></p>
</td>
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext">Any</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<table class="tableintopic" width="648" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="198"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="450"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">CustNodes?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">In:  Array of hashes containing details of the customer nodes and associated entities. Each element represents a node in the customer hierarchy. The hash is in the format used by the <span class="unixoutputc">fCMN_TRECustomerCreate&amp;</span> function.</p>
<p class="tablebodytext">If <span class="unixoutputc">CUSTOMER_NODE_ID</span> is specified, the hash contains details of an existing customer. </p>
<p class="tablebodytext">If <span class="unixoutputc">CUSTOMER_NODE_ID</span> is not defined, the hash contains details of a new customer. </p>
<p class="tablebodytext">The <span class="unixoutputc">{'OFFER_DETAILS'}</span> hash key contains the hierarchical product offer structure.</p>
<p class="tablebodytext">For new offers for the quote, the hash is in the format used by the <span class="unixoutputc">fCMN_TREProductInstanceCreateByOffer&amp;</span> function. For existing offers to be updated for the quote, the hash is in the format used by the <span class="unixoutputc">fCMN_TREProductInstanceUpdateByOffer&amp;</span> function.</p>
<p class="tablebodytext">The <span class="unixoutputc">{'PRODUCT_DETAILS'}</span> hash key contains the values for all mandatory and optional fields for the product instance and related entities.</p>
<p class="tablebodytext">For new products, the hash is in the format used by the <span class="unixoutputc">fCMN_TREProductInstanceCreate&amp;</span> function. For existing base products to be updated, <span class="unixoutputc">PRODUCT_INSTANCE_ID</span> is mandatory and the hash is in the format as the product instance format for <span class="unixoutputc">fCMN_TREProductInstanceUpdateByOffer&amp; </span>function.</p>
<p class="tablebodytext">Elements for the equipment items in a <span class="unixoutputc">{'SERVICES'}</span> hash use fields from the <span class="unixoutputc">EQUIPMENT_TRE_V</span> view, where <span class="unixoutputc">EQUIPMENT_TYPE_NAME</span> or <span class="unixoutputc">EQUIPMENT_TYPE_ID</span> is mandatory for new equipment.</p>
<p class="tablebodytext">If <span class="unixoutputc">{'OFFER_DETAILS'}</span> is specified, <span class="unixoutputc">{'PRODUCT_DETAILS'}</span> must correspond to the fields specified in <span class="unixoutputc">{'OFFER_DETAILS'}</span>.</p>
<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="tablenote">If the specified service requires mandatory equipment, the equipment details must be specified in the {'EQUIPMENT'} hash as temporary equipment for quoting purposes. Allocating real equipment for quoting purposes results in an error. </p></td></tr></table>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">EffectiveDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">In:  Effective date-time for the quote to be generated.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">NumOfBillRun&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">In:  Number of bill runs required for the quote.</p>
<p class="tablebodytext">If not specified, defaults to the number of bills runs to be performed specified by the <span class="formname">Quote</span> interface definition.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">QuoteDetails?[]</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">Out:  Array containing details of each charge generated for the quote.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">QuoteValidityDate~</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">In/Out: Date when the quote will expire.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="198"><p class="tablebodytext"><span class="unixoutputc">CustomData?{}</span></p>
</td>
<td style="border:1px solid #010101;" width="450"><p class="tablebodytext">In/Out: Custom operations or extra data to be used by the <span class="unixoutputc">QuotePreBillingActions&amp;()</span> function.</p>
<p class="tablebodytext">This allows customised operations to be executed before the bill run is performed.</p>
</td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">1 (TRUE) if successful; otherwise, an error is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">This function returns an array containing all the individual charges associated with the customer. It calls <span class="unixoutputc">treQuoteModeSet&amp;()</span> to indicate that the bill run being processed is in quote mode, where an immediate QA bill run generates temporary bills for quoting purposes. All charges for the invoice are retrieved from the <span class="unixoutputc">QUOTE_EVENT_TRE_V</span> view. </p>
<p class="bodytext">Current IDs and names are returned for existing customers and services. For new customers, IDs returned belong to the duplicated entities. For new services, service IDs returned are always null, and service names are null unless specified. </p>
<p class="bodytext">Dummy service and network names are used when creating new services for quoting. Specified service and network names are ignored. However, all dummy service or network names are mapped to the specified service or network names in <span class="unixoutputc">QuoteDetails?[]</span>. </p>
<p class="bodytext">A dummy serial number and network address are used when creating new equipment. If a specified serial number matches existing equipment, only the equipment details are copied to the newly created equipment item. When inserting equipment, <span class="unixoutputc">EQUIPMENT_TYPE_ID</span> or <span class="unixoutputc">EQUIPMENT_TYPE_NAME</span> must be specified if the serial number of existing equipment is not supplied. </p>
<p class="bodytext">The number of bill runs required for the quote must be specified and not exceed the maximum number of bill runs defined in the <span class="formname">Quote</span> interface definition. </p>
<p class="bodytext">The effective date of the bill runs correspond to the pending tasks' effective date of the customer's schedule. To ensure accuracy of the quote, it is recommended that the maximum number of bill runs required match the number of pending tasks created. If no pending tasks exist, the frequency of the bill runs is set as monthly. This means invoices for the quote customer are generated on a monthly basis.</p>
<p class="bodytext">If <span class="unixoutputc">QuoteValidityDate~</span> is not specified, the date when the quote expires is set as the earliest date of the following:</p>
<ul class="listbullet"><li class="listbullet">The effective end date of the companion products</li><li class="listbullet">The available end date of the product offers being inserted</li><li class="listbullet">The effective end date in the derived attribute tables associated with the product offers</li><li class="listbullet">The validity date calculated using the default validity period defined in the <span class="formname">Quote</span> interface definition.</li></ul><table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><p class="note">Regular usage events are excluded from the bill run in quote mode. If the Include Usage? parameter in the Quote interface definition is set to Yes, only entitlements aligned with the bill cycle are duplicated for the quote.</p></td></tr></table>
<p class="bodytext">For more information about Composite Business Functions (CBFs) and the hash parameter keys, refer to the <span class="referrals">Configurer's Reference Guide for Singleview Convergent Billing (Vol. 1)</span>.</p>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="76017.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="76158.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Configurer's Reference Guide for Singleview Convergent Billing 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


