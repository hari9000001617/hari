<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> ObjectRefresh&amp;() </title>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="pkc.css">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="description" content="Online Help for Configuration Workbench for Singleview Process Engine 9.1 ">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
<script language="JavaScript">
<!--

document.onkeydown = checkChangePage;
function checkChangePage(e)
{
   if (!e) var e = window.event;
   // Don't put the following into the first page
   if ((e.ctrlKey && (e.keyCode == 37))) {
      // Ctrl-Left Arrow was pressed or Page up key pressed at the top of the page
      document.location.href = "52841.htm";
   } else
   // Don't put the following into the late page for a document
   if ((e.ctrlKey && (e.keyCode == 39))) {
      // Ctrl-Right Arrow was pressed or Page down key pressed and at the bottom of the page
      document.location.href = "9431.htm";
   }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function printpage()
{
	window.print();
}
//-->
</script>
</head>
<body onload="loadParent();MM_preloadImages('left_down.gif','right_down.gif','index_down.gif','contents_down.gif','search_down.gif','print_down.gif');if (isTOCLoaded()) {expand('57331');expand('11011');highlight('9429')}">
<div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="52841.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="9431.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Configuration Workbench for Singleview Process Engine 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="100%">
<h3 class="heading3">ObjectRefresh&amp;()</h3>
</td><td class="feedback"><p><a href="mailto:ipoint@csgi.com?subject=Feedback on Topic 'ObjectRefresh&amp;()' (9429)"><img border=0 src="email.png" alt="Provide feedback on this topic"></a></p></td></tr></table><p class="syntaxheading">Syntax</p>
<pre class="unixinputp">ObjectRefresh&amp;(    Object@,    Recursive&amp;)</pre>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Description</p>
<p class="bodytext">If the specified object is in the Process Engine server cache, the function refreshes all stored facts for the object to reflect changes made by the remote system since the object was loaded.  If the specified object is not in the Process Engine server cache, the function loads it into the cache from the database.</p>
<p class="syntaxheading">Parameters</p>
<table class="tableintopic" width="642" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #010101">
<tr align="left" valign="top">
<td class="tableheading" style="border:1px solid #010101;" width="108"><p class="tableheading">Parameter</p>
</td>
<td class="tableheading" style="border:1px solid #010101;" width="534"><p class="tableheading">Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext"><span class="unixoutputc">Object@</span></p>
</td>
<td style="border:1px solid #010101;" width="534"><p class="tablebodytext">OID of the object to refresh.</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #010101;" width="108"><p class="tablebodytext"><span class="unixoutputc">Recursive&amp;</span></p>
</td>
<td style="border:1px solid #010101;" width="534"><p class="tablebodytext">If:</p>
<ul class="tablelistbullet"><li class="tablelistbullet">0, none of the associated objects are refreshed.</li><li class="tablelistbullet">1, all referenced shared objects are refreshed.</li><li class="tablelistbullet">2, only shared objects referenced by reference subset facts are refreshed.</li></ul></td>
</tr>

</table>
<p class="bodytext">&nbsp;</p>
<p class="syntaxheading">Returns</p>
<p class="bodytext">Null if successful; otherwise, an exception is raised.</p>
<p class="syntaxheading">Remarks</p>
<p class="bodytext">If a refreshed object contains non-stored reference subset facts from shared classes, these facts are also refreshed because additional objects may have been created or removed, which could change the contents of non-stored reference subset facts.  However, the function does not re-derive facts with an expiry duration.  Use <span class="unixoutputc">ObjectFactDerive&amp;()</span> for this purpose.</p>
<p class="bodytext">Facts with a derivation type of Default are not re-derived unless they are null. If re-derivation of a fact is required, set the fact's derivation type to Derived.</p>
<p class="bodytext">The <span class="unixoutputc">Recursive&amp;</span> parameter can be set to either 0, 1, or 2.  Three constants are used to represent <span class="unixoutputc">Recursive&amp;</span> parameter values.  It is recommended that the following constants be used instead of creating variables:</p>
<ul class="listbullet"><li class="listbullet"><span class="unixoutputc">Recursive:No&amp;</span> = 0<p class="listcontinue">No associated objects are refreshed.</p>
</li><li class="listbullet"><span class="unixoutputc">Recursive:All&amp;</span> = 1<p class="listcontinue">Shared objects in the server cache referenced by reference facts and reference subset facts in the specified object are refreshed.</p>
</li><li class="listbullet"><span class="unixoutputc">Recursive:Assocs&amp;</span> = 2<p class="listcontinue">Shared objects in the server cache referenced only by reference subset facts in the specified object are refreshed.</p>
</li></ul><p class="bodytext">For example, to refresh an object without refreshing any associated objects:</p>
<pre class="unixoutputp">{<br>    var myObject@;<br>    ...<br>    ObjectRefresh(myObject@, Recursive:No&amp;);<br>    ...<br>}</pre>

<table width="100%" class="notestyle"><tr><td><p class="note">Note:</p><ul class="notelistbullet"><li class="notelistbullet">Call the function only for objects in local classes if the local class has non-stored reference subset facts referencing a shared class.</li><li class="notelistbullet">The function does not refresh objects being updated.  This ensures updated data is preserved and not refreshed from the database.</li><li class="notelistbullet">The maximum recursion level for the function is three.  This ensures the number of recursive refreshes does not create an unnecessary load on system resources.</li></td></tr></table></ul><p class="syntaxheading">Example</p>
<p class="bodytext">With a trigger on the Contact class, retrieve the value of the Description fact for the current contact object, print it to <span class="unixoutputc">stdout</span> on the server, and refresh the object.  If the description has changed, print the updated description:</p>
<pre class="unixoutputp">{<br>    var myObject@;<br>    myObject@ := CurrentObjectGet@();<br>    try {<br>        result? := ObjectFactGet?(myObject@, Fact:Contact.Description@);<br>        print('ObjectFactGet successful - value is: ' +<br>               to_string(result?));<br>        ObjectRefresh&amp;(myObject@, Recursive:No&amp;);<br>        print('ObjectRefresh successful');<br>        result? := ObjectFactGet?(myObject@, Fact:Contact.Description@);<br>        print('ObjectFactGet successful - value is: ' +<br>               to_string(result?));<br>    }<br>    except {<br>        print('ObjectRefresh failed');<br>    }<br>}</pre>


<br><div class="menubar">  <table width="100%" border="0" cellspacing="0" cellpadding="0">    <tr valign="middle">      <td width="70">        <a href="52841.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('left','','left_down.gif',1)">        <img name="left" border="0" src="left_up.gif" width="26" height="26" alt="Previous topic" title="Previous topic"></a>        <a href="9431.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('right','','right_down.gif',1)">        <img name="right" border="0" src="right_up.gif" width="26" height="26" alt="Next topic" title="Next topic"></a></td>        <td class="bodytext">Online Help for Configuration Workbench for Singleview Process Engine 9.1 </td>        <td width="40">        <div align="center">        <a href="javascript:printpage();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('print','','print_down.gif',1)">        <img name="print" border="0" src="print_up.gif" width="26" height="26" alt="Print this page" title="Print this page"></a>      </div>       </td></tr>  </table></div></body>
</html>


